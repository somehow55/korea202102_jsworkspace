<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{margin: 0px;}
        .wrapper{
            width: 100%;
            height: 700px;
            background-color: yellow;
            border: 5px solid red;
            position: relative;
        }
        #pika{
            width: 80px;
        }
    </style>
    <script>
        var pika;
        var targetX = 0;        //피카츄가 도달할 목표 x좌표
        var targetY = 0;        //피카츄가 도달할 목표 y좌표
        var a = 0.1;        //비율계수


        function init(){
            pika = document.getElementById("pika");
            pika.style.position = "absolute";
            pika.style.left = 0 + "px";     // 처음엔 100 * 50으로 했는데, 어차피 나중에 move()등의 함수를 주면서
            pika.style.top = 0 + "px";      // 치환되기 때문에 0*0으로 해도 무방
        }

        //피카츄가 도달할 목표지점을 구하기!! getPos가 마우스 좌표를 피카츄에 대입하는 함수!!!!
        function getPos(){
            targetX = event.clientX-50;        //마우스 클릭한 x값을 피카츄에게 설정하기   //가운데 오게 하려고 숫자 넣음
            targetY = event.clientY-50;         //마우스 클릭한 y값을 피카츄에게 설정하기  //가운데 오게 하려고 숫자 넣음
            console.log("x좌표=",targetX, "y좌표=",targetY);        //x와 y를 targetX, targetY로 바꿨으니 여기도 바꿔주기
        }

        function move(){
            // ↓ 마우스 좌표를 이용해서, 피카츄의 위치로 사용해보기!!
            // pika.style.left = targetX+"px";
            // pika.style.top = targetY+"px";
            pika.style.left = parseFloat(pika.style.left)+a*(targetX-parseFloat(pika.style.left))+"px";
            pika.style.top = parseFloat(pika.style.top)+a*(targetY-parseFloat(pika.style.top))+"px";
        }
        window.addEventListener("load", function(){
            init();
            setInterval("move()", 10);     //getPos를 엄청나게 돌리기 → move() 만들었으니 이걸로 변경
        });
    </script>
</head>
<body onMouseDown  = "getPos()">      
    <!-- onMouseDown은 좌클릭하면 반응 -->
    <!-- onmouseover는 마우스가 올라갈 대상이 있어야만 발동됨. body태그에 넣을거면 그 안에 무언가가 있어야 먹음. -->
    <div class = "wrapper">
        <img src = "../images/pikachu.png" id = "pika">
    </div>
</body>
</html>