<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>감속도 운동</title>
    <style>
        #pika{
            width: 80px;
        }
        #ball{
            width: 80px;
            position: absolute;
            left: 500px;
            top: 200px;
        }
    </style>
    <script>
        
        var a = 0.1;        //비율을 표현하는 비율계수
        var targetX = 500;  //피카츄가 한 번에 도달할 목표지점의 x좌표
        var pika;
        
        //문서가 로드되면, 피카츄의 스타일 포지션 값을 자바스크립트에서 지정하려고 한다.
        window.addEventListener("load", function(){
            pika = document.getElementById("pika");
            pika.style.position="absolute";
            pika.style.left = 0+"px";
            pika.style.top=200+"px";
        });
        
        
        
        //목표지점에 한 걸음에 도착하면, 순간이동이 되므로 자연스럽지X
        // 더 부드러운 효과를 내려면 감속도 처리를 해야하고, 이 감속도 처리는 많은 분야의 애니메이션에서 이용하고 있음. 특히나 J Query도!
        function move(){
            pika = document.getElementById("pika");
            // 이건 순간이동
            // pika.style.left=targetX + "px";
            // 공식 : 물체위치 = 현재위치 +  a(비율)*(목표지점 - 현재 내위치)
            pika.style.left = parseInt(pika.style.left) + a*(targetX - parseInt(pika.style.left))+"px";
            setTimeout("move()", 10);
            console.log("피카츄의 현재 x좌표는 ", pika.style.left)      // console은 여기에 넣어야 자동으로 움직인 후의 x좌표가 찍힘... 위에 window.add리스너에 넣으면 계속 0으로 찍힘
        }
        </script>
</head>
<body>
    <button onclick="move()">가랏 피ka츄!</button>
    <img src="../images/monster ball.png" id="ball">
    <img src="../images/pikachu.png" id="pika">
    <!-- 스타일시트들을 위에가 아니라 바디에 적는 이유는?
     -->
    
</body>
</html>